:root{--color-bg-primary: #f8fafc;--color-bg-secondary: rgba(255, 255, 255, .6);--color-bg-tertiary: #ffffff;--color-bg-card: #fefefe;--color-bg-muted: #f9fafb;--color-bg-hover: #f3f4f6;--color-bg-active: #e5e7eb;--color-text-primary: #0f172a;--color-text-secondary: #334155;--color-text-muted: #475569;--color-text-subtle: #64748b;--color-text-inverse: #ffffff;--color-border: #e5e7eb;--color-border-light: #f1f5f9;--color-border-muted: #e2e8f0;--color-border-dashed: #cbd5e1;--color-accent-green: #059669;--color-accent-red: #ef4444;--color-accent-red-light: #f87171;--color-status-fresh-bg: rgba(187, 247, 208, .9);--color-status-fresh-text: #065f46;--color-status-approaching-bg: rgba(254, 249, 195, .9);--color-status-approaching-text: #92400e;--color-status-drifted-bg: rgba(254, 226, 226, .9);--color-status-drifted-text: #991b1b;--gradient-header-blob: radial-gradient(circle at 20% 20%, #ffe082, #81d4fa, #a5d6a7);--gradient-primary-btn: linear-gradient(135deg, #fde68a, #bfdbfe);--shadow-card: 0 18px 45px rgba(15, 23, 42, .12);--shadow-modal: 0 20px 50px rgba(0, 0, 0, .2);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .05);--backdrop-blur: blur(14px)}[data-theme=dark]{--color-bg-primary: #0f172a;--color-bg-secondary: rgba(30, 41, 59, .9);--color-bg-tertiary: #1e293b;--color-bg-card: #1e293b;--color-bg-muted: #334155;--color-bg-hover: #475569;--color-bg-active: #64748b;--color-text-primary: #ffffff;--color-text-secondary: #cbd5e1;--color-text-muted: #94a3b8;--color-text-subtle: #64748b;--color-text-inverse: #0f172a;--color-border: #334155;--color-border-light: #475569;--color-border-muted: #475569;--color-border-dashed: #64748b;--color-accent-green: #10b981;--color-accent-red: #f87171;--color-accent-red-light: #fca5a5;--color-status-fresh-bg: rgba(52, 211, 153, .2);--color-status-fresh-text: #6ee7b7;--color-status-approaching-bg: rgba(251, 191, 36, .2);--color-status-approaching-text: #fbbf24;--color-status-drifted-bg: rgba(248, 113, 113, .2);--color-status-drifted-text: #fca5a5;--gradient-header-blob: radial-gradient(circle at 20% 20%, #ca8a04, #0284c7, #059669);--gradient-primary-btn: linear-gradient(135deg, #fbbf24, #3b82f6);--shadow-card: 0 18px 45px rgba(0, 0, 0, .5);--shadow-modal: 0 20px 50px rgba(0, 0, 0, .8);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .3);--backdrop-blur: blur(20px)}@keyframes float{0%{transform:translate(0) rotate(0)}33%{transform:translate(30px,-50px) rotate(10deg)}66%{transform:translate(-20px,20px) rotate(-5deg)}to{transform:translate(0) rotate(0)}}@keyframes float-reverse{0%{transform:translate(0) rotate(0)}33%{transform:translate(-30px,50px) rotate(-10deg)}66%{transform:translate(20px,-20px) rotate(5deg)}to{transform:translate(0) rotate(0)}}@keyframes pulse-soft{0%{opacity:.8;transform:scale(1)}50%{opacity:1;transform:scale(1.05)}to{opacity:.8;transform:scale(1)}}@keyframes slideInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes gradient-text{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}body{background-color:var(--color-bg-primary);margin:0;transition:background-color .2s ease}.app-root{display:flex;justify-content:center;padding:24px 12px;background-color:transparent;min-height:100vh;color:var(--color-text-primary);position:relative;z-index:1}.app-shell{width:100%;max-width:900px;background:var(--color-bg-secondary);backdrop-filter:var(--backdrop-blur);-webkit-backdrop-filter:var(--backdrop-blur);border-radius:32px;padding:20px 18px 28px;box-shadow:var(--shadow-card);border:1px solid rgba(255,255,255,.1);transition:all .3s ease}.app-header{display:flex;align-items:center;gap:16px;margin-bottom:16px}.header-text-block h1{font-size:1.9rem;margin:0 0 6px;color:var(--color-text-primary);background:linear-gradient(90deg,var(--color-text-primary),var(--color-text-secondary));-webkit-background-clip:text;background-clip:text}.header-text-block p{margin:0;font-size:.9rem;color:var(--color-text-muted)}.app-root:before{content:"";position:fixed;top:-20%;left:-20%;width:70vw;height:70vw;background:radial-gradient(circle,#fbbf2499,#0000 70%);border-radius:50%;filter:blur(60px);z-index:-1;animation:float 25s ease-in-out infinite;pointer-events:none}.app-root:after{content:"";position:fixed;bottom:-20%;right:-20%;width:80vw;height:80vw;background:radial-gradient(circle,#3b82f680,#0000 70%);border-radius:50%;filter:blur(60px);z-index:-1;animation:float-reverse 30s ease-in-out infinite;pointer-events:none}.header-blob{margin-left:auto;width:72px;height:72px;border-radius:50%;background:var(--gradient-header-blob);box-shadow:0 0 20px rgba(var(--color-accent-green),.3)}.theme-toggle{background:var(--color-bg-muted);border:1px solid var(--color-border);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.2rem;transition:all .2s ease;margin-left:auto}.theme-toggle:hover{transform:scale(1.05);background:var(--color-bg-hover)}.control-bar{display:flex;justify-content:flex-end;margin-bottom:12px}.season-select{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background-color:var(--color-bg-muted);font-size:.8rem;color:var(--color-text-secondary)}.season-select select{border:none;background:transparent;font-size:.8rem;outline:none;color:var(--color-text-secondary)}.routines-section{margin-bottom:18px}.routines-list{display:flex;flex-direction:column;gap:10px}.routines-list .routine-card{animation:slideInUp .4s ease-out backwards}.routines-list .routine-card:nth-child(1){animation-delay:.05s}.routines-list .routine-card:nth-child(2){animation-delay:.1s}.routines-list .routine-card:nth-child(3){animation-delay:.15s}.routines-list .routine-card:nth-child(4){animation-delay:.2s}.routines-list .routine-card:nth-child(5){animation-delay:.25s}.empty-state{padding:16px 14px;border-radius:18px;background-color:var(--color-bg-muted);font-size:.9rem;color:var(--color-text-muted)}.routine-card{border-radius:20px;padding:14px 14px 12px;background:var(--color-bg-card);border:1px solid var(--color-border);display:flex;flex-direction:column;gap:8px;transition:transform .2s cubic-bezier(.34,1.56,.64,1),box-shadow .2s ease,border-color .2s ease}.routine-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--color-border-dashed)}.routine-header{display:flex;flex-direction:column;gap:6px}.status-badge{display:inline-flex;align-items:center;padding:3px 10px;border-radius:999px;font-size:.7rem;font-weight:500}.status-badge.fresh{background:var(--color-status-fresh-bg);color:var(--color-status-fresh-text)}.status-badge.approaching{background:var(--color-status-approaching-bg);color:var(--color-status-approaching-text)}.status-badge.drifted{background:var(--color-status-drifted-bg);color:var(--color-status-drifted-text)}.routine-name{font-weight:600;font-size:1rem}.routine-meta{display:flex;justify-content:space-between;font-size:.75rem;color:var(--color-text-muted)}.timing-text{font-weight:500}.routine-actions{display:flex;gap:8px;margin-top:6px}.primary-btn,.secondary-btn{border-radius:999px;padding:8px 14px;border:none;font-size:.8rem;cursor:pointer;transition:transform .08s ease,box-shadow .08s ease,background-color .08s ease}.primary-btn:active,.secondary-btn:active{transform:scale(.96)!important}.primary-btn{flex:1;background:var(--gradient-primary-btn);box-shadow:0 8px 18px #3b82f640;color:#0f172a;font-weight:600}.primary-btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px #3b82f64d}.secondary-btn{background-color:var(--color-bg-hover);color:var(--color-text-secondary);white-space:nowrap}.secondary-btn:hover{background-color:var(--color-bg-active)}.primary-btn.wide{width:100%}.add-section h2{font-size:1rem;margin:0 0 8px;color:var(--color-text-primary)}.add-form{display:flex;flex-direction:column;gap:8px}.add-form input[type=text]{border-radius:999px;border:1px solid var(--color-border);padding:8px 12px;font-size:.85rem;background:var(--color-bg-tertiary);color:var(--color-text-primary)}.add-row{display:flex;gap:8px;flex-wrap:wrap}.add-row label{display:flex;align-items:center;gap:6px;font-size:.8rem;background-color:var(--color-bg-muted);border-radius:999px;padding:5px 10px;color:var(--color-text-secondary)}.add-row input[type=number]{width:64px;border-radius:999px;border:1px solid var(--color-border);padding:4px 6px;font-size:.8rem;background:var(--color-bg-tertiary);color:var(--color-text-primary)}.add-row select{border-radius:999px;border:1px solid var(--color-border);padding:4px 6px;font-size:.8rem;background:var(--color-bg-tertiary);color:var(--color-text-primary)}.view-toggle{display:flex;background:var(--color-bg-muted);padding:4px;border-radius:999px;margin-right:auto}.view-toggle button{border:none;background:transparent;padding:6px 14px;border-radius:999px;font-size:.8rem;font-weight:500;color:var(--color-text-muted);cursor:pointer;transition:all .2s ease}.view-toggle button.active{background:var(--color-bg-tertiary);color:var(--color-text-primary);box-shadow:var(--shadow-sm)}.history-section{display:flex;flex-direction:column;gap:20px}.history-group{display:flex;flex-direction:column;gap:8px}.history-month-header{font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-subtle);margin:0;padding-left:4px}.history-list{list-style:none;margin:0;padding:0;border-radius:20px;background:var(--color-bg-card);border:1px solid var(--color-border)}.history-item{display:flex;flex-direction:column;gap:8px;padding:12px 14px;background:var(--color-bg-tertiary);border-radius:12px;box-shadow:var(--shadow-sm);border-bottom:1px solid var(--color-border-light)}.history-item:last-child{border-bottom:none}.history-content{display:flex;justify-content:space-between;align-items:flex-start;width:100%}.history-info{display:flex;flex-direction:column;gap:4px}.history-header{display:flex;align-items:center;gap:8px}.duration-badge{font-size:.7rem;background:var(--color-bg-muted);color:var(--color-text-muted);padding:2px 6px;border-radius:4px;font-weight:500}.history-photo{width:100%;height:120px;background:#f8fafc;border-radius:8px;overflow:hidden;margin-top:4px;border:1px solid #e2e8f0}.history-photo img{width:100%;height:100%;object-fit:cover}.history-name{font-weight:500;font-size:.95rem;color:var(--color-text-secondary)}.history-date{font-size:.8rem;color:var(--color-text-subtle)}.header-top-row{display:flex;justify-content:space-between;align-items:center}.title-row{display:flex;align-items:center;gap:8px}.link-icon{font-size:.9rem;color:var(--color-text-muted);text-decoration:none;background:var(--color-bg-hover);width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;transition:all .1s ease}.link-icon:hover{background:var(--color-bg-active);color:var(--color-text-secondary)}.card-tags{display:flex;gap:4px}.card-tag{font-size:.65rem;background:var(--color-bg-hover);color:var(--color-text-secondary);padding:2px 6px;border-radius:4px;text-transform:uppercase;font-weight:600;letter-spacing:.02em}.tag-filter-bar{display:flex;gap:8px;overflow-x:auto;padding-bottom:8px;margin-bottom:8px;scrollbar-width:none}.tag-filter-bar::-webkit-scrollbar{display:none}.filter-pill{border:1px solid var(--color-border);background:var(--color-bg-tertiary);color:var(--color-text-muted);border-radius:999px;padding:4px 12px;font-size:.8rem;cursor:pointer;white-space:nowrap;transition:all .1s ease}.filter-pill.active{background:var(--color-text-primary);color:var(--color-text-inverse);border-color:var(--color-text-primary)}.filter-pill:hover:not(.active){background:var(--color-bg-muted)}.flex-input{flex:1}.history-note{font-size:.75rem;color:var(--color-text-muted);font-style:italic;margin-top:2px}@media (min-width: 768px){.app-shell{padding:24px 24px 32px}.app-header{margin-bottom:20px}}.data-section{margin-top:32px;border-top:1px solid var(--color-border-muted);padding-top:20px}.data-section h3{font-size:.9rem;margin:0 0 4px;color:var(--color-text-secondary)}.data-section p{margin:0 0 12px;font-size:.8rem;color:var(--color-text-muted)}.data-controls{display:flex;gap:10px}.secondary-btn.small{padding:6px 12px;font-size:.75rem;border:1px solid var(--color-border-dashed);background:var(--color-bg-tertiary)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content{background:var(--color-bg-card);width:100%;max-width:400px;border-radius:24px;padding:24px;box-shadow:var(--shadow-modal);display:flex;flex-direction:column;gap:16px;animation:slideUp .2s ease-out;border:1px solid var(--color-border);position:relative}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-content h3{margin:0;font-size:1.2rem;text-align:center;color:var(--color-text-primary)}.modal-field{display:flex;flex-direction:column;gap:6px;font-size:.9rem;font-weight:500;color:var(--color-text-secondary)}.modal-field textarea,.modal-field input[type=number]{border:1px solid var(--color-border);border-radius:12px;padding:10px;font-family:inherit;font-size:.95rem;resize:vertical;background:var(--color-bg-tertiary);color:var(--color-text-primary)}.modal-actions{display:flex;gap:12px;margin-top:8px}.modal-actions button{flex:1;justify-content:center}.photo-preview{position:relative;background:#000;border-radius:12px;overflow:hidden;height:160px;display:flex;justify-content:center;align-items:center}.photo-preview img{max-width:100%;max-height:100%;object-fit:contain}.remove-photo-btn{position:absolute;top:8px;right:8px;background:#0009;color:#fff;border:none;width:24px;height:24px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.8rem}.dashboard-container{display:flex;flex-direction:column;gap:24px}.dashboard-stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.stat-card{background:var(--color-bg-tertiary);padding:16px;border-radius:20px;text-align:center;border:1px solid var(--color-border);box-shadow:var(--shadow-md);transition:transform .2s ease,box-shadow .2s ease}.stat-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-card)}.stat-card h3{margin:0 0 4px;font-size:.8rem;color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.05em;font-weight:600}.stat-value{font-size:1.8rem;font-weight:700;color:var(--color-text-primary)}.stat-value.highlight{color:var(--color-accent-green)}.dashboard-main-columns{display:flex;flex-direction:column;gap:24px}.dashboard-column h2{font-size:1.1rem;margin:0 0 12px;color:var(--color-text-secondary);display:flex;align-items:center;gap:8px}.empty-dashboard-state{text-align:center;padding:32px;background:var(--color-bg-secondary);border-radius:16px;color:var(--color-text-muted);font-size:.95rem;border:1px dashed var(--color-border-dashed)}.attention-list{display:flex;flex-direction:column;gap:10px}.attention-card{background:var(--color-bg-tertiary);padding:14px 18px;border-radius:16px;border-left:4px solid var(--color-accent-red-light);box-shadow:var(--shadow-sm);display:flex;justify-content:space-between;align-items:center}.attention-info{display:flex;flex-direction:column}.attention-name{font-weight:600;color:var(--color-text-primary)}.attention-sub{font-size:.8rem;color:var(--color-accent-red);font-weight:500}.activity-feed{display:flex;flex-direction:column;gap:12px}.activity-item{background:var(--color-bg-tertiary);padding:12px 16px;border-radius:16px;border:1px solid var(--color-border-light);font-size:.9rem}.activity-header{display:flex;justify-content:space-between;margin-bottom:4px}.activity-date{font-size:.75rem;color:var(--color-text-subtle)}.activity-note{font-style:italic;color:var(--color-text-muted);margin-top:4px;font-size:.85rem}.activity-photo-preview{margin-top:8px;width:64px;height:64px;border-radius:8px;overflow:hidden;background:#f1f5f9}.activity-photo-preview img{width:100%;height:100%;object-fit:cover}.dim-text{color:var(--color-text-muted);font-style:italic;font-size:.9rem}@media (min-width: 1024px){.dashboard-main-columns{display:grid;grid-template-columns:2fr 1fr;align-items:start}}.weekly-summary-container{display:flex;flex-direction:column;gap:24px}.week-navigation{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background:var(--color-bg-card);border-radius:16px;border:1px solid var(--color-border)}.week-title{font-size:1.1rem;margin:0;color:var(--color-text-primary);text-align:center;flex:1}.week-nav-btn{background:var(--color-bg-muted);border:1px solid var(--color-border);border-radius:999px;padding:6px 14px;font-size:.85rem;cursor:pointer;color:var(--color-text-primary);transition:all .15s ease;white-space:nowrap}.week-nav-btn:hover:not(:disabled){background:var(--color-bg-hover);transform:translate(-2px)}.week-nav-btn:disabled{opacity:.4;cursor:not-allowed}.weekly-stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.weekly-stat-card{background:var(--color-bg-tertiary);border:1px solid var(--color-border);border-radius:20px;padding:20px;text-align:center;box-shadow:var(--shadow-md)}.weekly-stat-card.highlight-card{background:linear-gradient(135deg,var(--color-bg-tertiary) 0%,var(--color-bg-card) 100%);border-color:var(--color-accent-green);border-width:2px}.weekly-stat-card h3{font-size:.8rem;text-transform:uppercase;letter-spacing:.05em;color:var(--color-text-muted);margin:0 0 8px;font-weight:600}.weekly-stat-value{font-size:2.2rem;font-weight:700;color:var(--color-text-primary);margin-bottom:4px}.stat-subtitle{font-size:.75rem;color:var(--color-text-muted);margin-top:4px}.trend-indicator{font-size:.8rem;font-weight:600;margin-top:8px;margin-bottom:12px}.trend-indicator.positive{color:var(--color-accent-green)}.trend-indicator.negative{color:var(--color-accent-red)}.progress-bar{width:100%;height:8px;background:var(--color-bg-hover);border-radius:999px;overflow:hidden;margin-top:8px}.progress-fill{height:100%;background:linear-gradient(90deg,var(--color-accent-green),#10b981);border-radius:999px;transition:width .5s ease}.consistent-routines-section{background:var(--color-bg-card);border:1px solid var(--color-border);border-radius:20px;padding:20px}.consistent-routines-section h3{margin:0 0 16px;font-size:1rem;color:var(--color-text-primary)}.routines-ranking{display:flex;flex-direction:column;gap:12px}.ranking-item{display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--color-bg-tertiary);border-radius:12px;border:1px solid var(--color-border-light);transition:transform .1s ease}.ranking-item:hover{transform:translate(2px)}.ranking-badge{background:var(--color-accent-green);color:#fff;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;flex-shrink:0}.ranking-info{flex:1;display:flex;flex-direction:column;gap:2px}.ranking-name{font-weight:600;color:var(--color-text-primary);font-size:.95rem}.ranking-detail{font-size:.75rem;color:var(--color-text-muted)}.ranking-rate{font-size:1.1rem;font-weight:700;color:var(--color-accent-green)}.empty-week-state{text-align:center;padding:40px 20px;background:var(--color-bg-muted);border-radius:16px;border:1px dashed var(--color-border-dashed)}.empty-week-state p{margin:0 0 8px;color:var(--color-text-primary)}.empty-week-state .muted-text{font-size:.85rem;color:var(--color-text-muted)}@media (max-width: 768px){.week-navigation{flex-wrap:wrap}.week-title{width:100%;order:-1;margin-bottom:8px}.weekly-stats-grid{grid-template-columns:1fr}}.calendar-view-container{display:flex;flex-direction:column;gap:20px}.calendar-header{display:flex;align-items:center;justify-content:space-between;padding:16px;background:var(--color-bg-card);border-radius:16px;border:1px solid var(--color-border)}.calendar-title{font-size:1.3rem;margin:0;color:var(--color-text-primary);text-align:center;flex:1}.calendar-nav-btn{background:var(--color-bg-muted);border:1px solid var(--color-border);border-radius:999px;padding:8px 16px;font-size:.85rem;cursor:pointer;color:var(--color-text-primary);transition:all .15s ease}.calendar-nav-btn:hover{background:var(--color-bg-hover)}.today-btn{align-self:flex-end;background:var(--color-accent-green);color:#fff;border:none;border-radius:999px;padding:8px 20px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .15s ease}.today-btn:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;background:var(--color-bg-card);padding:20px;border-radius:20px;border:1px solid var(--color-border)}.calendar-weekday-header{text-align:center;font-size:.75rem;font-weight:600;color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.05em;padding:8px 0}.calendar-day{aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:8px 4px;border-radius:12px;border:1px solid var(--color-border-light);background:var(--color-bg-tertiary);cursor:pointer;transition:all .15s ease;position:relative}.calendar-day.other-month{opacity:.3;cursor:default}.calendar-day.today{border-color:var(--color-accent-green);border-width:2px;background:var(--color-status-fresh-bg)}.calendar-day.has-completions:hover{transform:scale(1.05);box-shadow:var(--shadow-sm);z-index:10}.day-number{font-size:.85rem;font-weight:600;color:var(--color-text-primary);margin-bottom:4px}.completion-dots{display:flex;gap:3px;align-items:center;flex-wrap:wrap;justify-content:center}.completion-dot{width:6px;height:6px;border-radius:50%;background:var(--color-accent-green)}.more-count{font-size:.65rem;color:var(--color-text-muted);font-weight:600}.day-details-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.day-details-panel{background:var(--color-bg-tertiary);border-radius:24px;padding:24px;max-width:400px;width:100%;box-shadow:var(--shadow-modal);animation:slideUp .2s ease-out;border:1px solid var(--color-border)}.day-details-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.day-details-header h3{margin:0;font-size:1.1rem;color:var(--color-text-primary)}.close-btn{background:var(--color-bg-hover);border:none;width:32px;height:32px;border-radius:50%;font-size:1.5rem;cursor:pointer;color:var(--color-text-primary);display:flex;align-items:center;justify-content:center;transition:all .15s ease}.close-btn:hover{background:var(--color-bg-active);transform:rotate(90deg)}.day-details-content{display:flex;flex-direction:column;gap:12px}.detail-label{font-size:.85rem;color:var(--color-text-muted);margin:0;font-weight:600}.routine-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}.routine-item{padding:10px 12px;background:var(--color-bg-muted);border-radius:10px;color:var(--color-text-primary);font-size:.9rem}@media (max-width: 768px){.calendar-grid{gap:4px;padding:12px}.calendar-day{padding:4px 2px}.day-number{font-size:.75rem}.completion-dot{width:4px;height:4px}}.gallery-container{display:flex;flex-direction:column;gap:24px}.gallery-controls{display:flex;justify-content:space-between;align-items:center;gap:16px;padding:16px;background:var(--color-bg-card);border-radius:16px;border:1px solid var(--color-border);flex-wrap:wrap}.gallery-filter{display:flex;align-items:center;gap:10px;flex:1}.gallery-filter label{font-size:.85rem;font-weight:600;color:var(--color-text-primary);white-space:nowrap}.routine-filter-select{flex:1;max-width:300px;padding:8px 12px;border-radius:999px;border:1px solid var(--color-border);background:var(--color-bg-tertiary);color:var(--color-text-primary);font-size:.85rem}.view-mode-toggle{display:flex;background:var(--color-bg-muted);padding:4px;border-radius:999px;gap:4px}.view-mode-toggle button{border:none;background:transparent;padding:6px 16px;border-radius:999px;font-size:.8rem;font-weight:500;color:var(--color-text-muted);cursor:pointer;transition:all .2s ease}.view-mode-toggle button.active{background:var(--color-bg-tertiary);color:var(--color-text-primary);box-shadow:var(--shadow-sm)}.empty-gallery-state{text-align:center;padding:60px 20px;background:var(--color-bg-muted);border-radius:20px;border:1px dashed var(--color-border-dashed)}.empty-gallery-icon{font-size:4rem;margin-bottom:16px}.empty-gallery-state h3{margin:0 0 8px;color:var(--color-text-primary)}.empty-gallery-state p{margin:0;color:var(--color-text-muted);font-size:.9rem}.no-photos-message{text-align:center;padding:40px 20px;background:var(--color-bg-muted);border-radius:16px;color:var(--color-text-muted)}.photo-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.photo-grid-item{position:relative;aspect-ratio:1;border-radius:16px;overflow:hidden;cursor:pointer;transition:transform .2s ease;background:var(--color-bg-card)}.photo-grid-item:hover{transform:scale(1.03);box-shadow:var(--shadow-md);z-index:10}.photo-grid-item img{width:100%;height:100%;object-fit:cover}.photo-overlay{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);padding:16px 12px 12px;opacity:0;transition:opacity .2s ease}.photo-grid-item:hover .photo-overlay{opacity:1}.photo-info{display:flex;flex-direction:column;gap:2px}.photo-routine{font-weight:600;color:#fff;font-size:.9rem}.photo-date{font-size:.75rem;color:#ffffffd9}.photo-timeline{display:flex;flex-direction:column;gap:32px;position:relative;padding-left:32px}.photo-timeline:before{content:"";position:absolute;left:8px;top:0;bottom:0;width:2px;background:var(--color-border)}.timeline-entry{display:flex;gap:24px;position:relative}.timeline-date-marker{display:flex;flex-direction:column;align-items:center;gap:8px;position:absolute;left:-32px}.timeline-dot{width:18px;height:18px;border-radius:50%;background:var(--color-accent-green);border:3px solid var(--color-bg-primary);position:relative;z-index:1}.timeline-date{font-size:.75rem;color:var(--color-text-muted);white-space:nowrap;writing-mode:vertical-lr;text-orientation:mixed;font-weight:600}.timeline-content{flex:1;display:flex;gap:16px;padding:16px;background:var(--color-bg-card);border-radius:16px;border:1px solid var(--color-border);cursor:pointer;transition:all .2s ease}.timeline-content:hover{transform:translate(4px);box-shadow:var(--shadow-md)}.timeline-content img{width:120px;height:120px;object-fit:cover;border-radius:12px;flex-shrink:0}.timeline-details{display:flex;flex-direction:column;gap:8px;justify-content:center}.timeline-details h4{margin:0;color:var(--color-text-primary);font-size:1rem}.timeline-note{margin:0;font-style:italic;color:var(--color-text-muted);font-size:.85rem}.timeline-duration{font-size:.75rem;color:var(--color-text-muted);background:var(--color-bg-muted);padding:4px 8px;border-radius:6px;align-self:flex-start}.lightbox-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000e6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:2000;padding:20px}.lightbox-content{position:relative;max-width:900px;max-height:90vh;display:flex;flex-direction:column;gap:20px;animation:slideUp .3s ease-out}.lightbox-close{position:absolute;top:-50px;right:0;background:#fff3;border:none;width:40px;height:40px;border-radius:50%;font-size:2rem;cursor:pointer;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.lightbox-close:hover{background:#ffffff4d;transform:rotate(90deg)}.lightbox-content img{max-width:100%;max-height:60vh;object-fit:contain;border-radius:16px;box-shadow:0 20px 60px #000c}.lightbox-info{background:var(--color-bg-tertiary);padding:20px;border-radius:16px;display:flex;flex-direction:column;gap:8px}.lightbox-info h3{margin:0;color:var(--color-text-primary);font-size:1.2rem}.lightbox-date{margin:0;color:var(--color-text-muted);font-size:.85rem}.lightbox-note{margin:0;font-style:italic;color:var(--color-text-primary);padding-top:8px;border-top:1px solid var(--color-border)}.lightbox-duration{margin:0;color:var(--color-text-muted);font-size:.85rem}@media (max-width: 768px){.gallery-controls,.gallery-filter{flex-direction:column;align-items:stretch}.routine-filter-select{max-width:none}.photo-grid{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px}.photo-timeline{padding-left:24px}.timeline-content{flex-direction:column}.timeline-content img{width:100%;height:200px}.lightbox-content img{max-height:50vh}}::placeholder{color:var(--color-text-muted);opacity:1}input::placeholder,textarea::placeholder{color:var(--color-text-muted);opacity:1}*,*:before,*:after{box-sizing:border-box}body{margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,SF Pro Text,Helvetica Neue,Arial,sans-serif;background:radial-gradient(circle at top left,#ffe9b5,#f3f4f6 40%,#c6e5ff);color:#111827}#root{min-height:100vh}
